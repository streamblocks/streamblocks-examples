include ../common.mk

ENTITY_NAMESPACE := hetero.decoder.mpeg.serial
ENTITY_NETWORK := SerialNetwork
ENTITY := $(ENTITY_NAMESPACE).$(ENTITY_NETWORK)

$(ENTITY_NETWORK)_HLS:
	$(SB_BIN) vivado-hls $(HLS_SETTINGS) $(PATH_SETTINGS) $(ENTITY)
$(ENTITY_NETWORK)_MULTICORE:
	$(SB_BIN) multicore $(MULTICORE_SETTIGS) $(PATH_SETTINGS) $(ENTITY)

$(ENTITY_NETWORK)_SC:
	cd $(TARGET_PATH); \
	mkdir -p build; \
	cd build; \
	$(CMAKE) .. -DCMAKE_BUILD_TYPE:STRING=Release -DUSE_SYSTEMC=ON -DHLS_CLOCK_PREIOD=3.3; \
	make $(ENTITY_NETWORK) -j

clean:
	rm -r $(TARGET_PATH)